-- phpMyAdmin SQL Dump
-- version 3.1.3.1
-- http://www.phpmyadmin.net
--
-- Serveur: localhost
-- Généré le : Mer 09 Mars 2011 à 04:25
-- Version du serveur: 5.1.33
-- Version de PHP: 5.2.9-2

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";

--
-- Base de données: `fjkmankadifotsy`
--

-- --------------------------------------------------------

--
-- Structure de la table `authorities`
--

CREATE TABLE IF NOT EXISTS `authorities` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,  
  `USR_LOGIN` varchar(25) NOT NULL COMMENT 'login',
  `AUTHORITY` varchar(50) NOT NULL,
  `USER_ID` int(11) NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_AUTHORITIES_USERS` (`USER_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=4 ;

--
-- Contenu de la table `authorities`
--

INSERT INTO `authorities` (`ID`,`USR_LOGIN`,`AUTHORITY`, `USER_ID`) VALUES
(1, 'operator', 'ROLE_MODIFY', 1),
(2, 'admin', 'ROLE_MODIFY', 4),
(3, 'rija', 'ROLE_MODIFY', 3);

-- --------------------------------------------------------

--
-- Structure de la table `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `ID_USER` int(11) NOT NULL AUTO_INCREMENT COMMENT 'identifiant',
  `USR_LOGIN` varchar(25) NOT NULL COMMENT 'login',
  `USR_PASSWORD` varchar(256) NOT NULL COMMENT 'mot de passe',
  PRIMARY KEY (`ID_USER`),
  UNIQUE KEY `USR_LOGIN` (`USR_LOGIN`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COMMENT='Les utilisateurs du système' AUTO_INCREMENT=5 ;

--
-- Contenu de la table `users`
--

INSERT INTO `users` (`ID_USER`, `USR_LOGIN`, `USR_PASSWORD`) VALUES
(1, 'operator', 'operator'),
(3, 'rija', 'rija'),
(4, 'admin', 'admin');

--
-- Contraintes pour la table `authorities`
--
ALTER TABLE `authorities`
  ADD CONSTRAINT `FK_AUTHORITIES_USERS` FOREIGN KEY (`USER_ID`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `authorities`
  ADD CONSTRAINT `FK_AUTHORITIES_USERS_LOGIN` FOREIGN KEY (`USR_LOGIN`) REFERENCES `users` (`USR_LOGIN`);

-- Fitenimpirenena
CREATE TABLE IF NOT EXISTS `Fitenimpirenena` (
  `FITENY_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `FITENY_CODE` varchar(2) NOT NULL COMMENT 'code langue',
  `FITENY_INTITULE` varchar(50) NOT NULL,
  PRIMARY KEY (`FITENY_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=8 ;

INSERT INTO `Fitenimpirenena` (`FITENY_ID`, `FITENY_CODE`, `FITENY_INTITULE`) VALUES
(1, 'MG', 'Malagasy'),
(2, 'FR', 'Frantsay'),
(3, 'EN', 'Anglisy'),
(4, 'DE', 'Alemana'),
(5, 'JP', 'Japoney'),
(6, 'CN', 'Sinoa'),
(7, 'IT', 'Italiana');
  
-- Table SYNODAM-PARITANY
CREATE TABLE IF NOT EXISTS `synodamparitra` (
  `SYNODAMPA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `SYNODAMPA_LABEL` varchar(400) NOT NULL ,
  `SYNODAMPA_DESCR` varchar(400) ,
  PRIMARY KEY (`SYNODAMPA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

INSERT INTO `synodamparitra` (`SYNODAMPA_ID`, `SYNODAMPA_LABEL`) VALUES
(1, 'Mbola fenoina aoriana'),
(2, 'Synodam-paritany Iarivo Avaradrano'),
(3, 'Synodam-paritany Iarivo Atsimondrano');

-- Table FITANDREMANA
CREATE TABLE IF NOT EXISTS `Fitandremana` (
  `FITANDREMANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `FITANDREMANA_LABEL` varchar(400) NOT NULL ,
  `FITANDREMANA_DESCR` varchar(500) ,
  `FITANDREMANA_ADRESSE` varchar(500) ,
  `SYNODAMPA_ID` int(11) NOT NULL,
  PRIMARY KEY (`FITANDREMANA_ID`),
  UNIQUE KEY `FITANDREMANA_LABEL` (`FITANDREMANA_LABEL`),
  KEY `FK_FITANDREMANA_SYNODA` (`SYNODAMPA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `Fitandremana`
  ADD CONSTRAINT `FK_FITANDREMANA_SYNODA` FOREIGN KEY (`SYNODAMPA_ID`) REFERENCES `synodamparitra` (`SYNODAMPA_ID`);

INSERT INTO `fitandremana` (`FITANDREMANA_ID`, `FITANDREMANA_LABEL`, `FITANDREMANA_DESCR`, `FITANDREMANA_ADRESSE`, `SYNODAMPA_ID`) VALUES
(1,`Ankadifotsy`,`Eo akaikin ny sinibe an-drano`,`Lot IV`,2),
(2,`Amparibe`,`FJKM Amparibe Famonjena`,null,2),
(3,`Andravoahangy Fivavahana`,`FJKM Andravoahangy Fivavahana`,`Andravoahangy ambony`,2),
(4,`Katedraly Analakely`,`FJKM Analakely`,`Analakely Antananarivo`,2),
(5,`Ambalavao Isotry`,`FJKM Ambalavao Isotry`,`Ambalavao Isotry`,1),
(6,`Masombahiny Mantasoa`,`FJKM Masombahiny Mantasoa`,`Ambalavao Masombahiny Mantasoa`,1);

-- Table FIRAISANA
CREATE TABLE IF NOT EXISTS `Firaisana` (
  `FIRAISANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `FIRAISANA_LABEL` varchar(400) NOT NULL ,
  PRIMARY KEY (`FIRAISANA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
INSERT INTO `Firaisana` (`FIRAISANA_ID`, `FIRAISANA_LABEL`) VALUES
(1, 'Antananarivo I'),
(2, 'Antananarivo II'),
(3, 'Antananarivo III'),
(4, 'Antananarivo IV'),
(5, 'Antananarivo V');

-- Table FARITRA
CREATE TABLE IF NOT EXISTS `Faritra` (
  `FARITRA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `FARITRA_LABEL` varchar(400) NOT NULL ,
  `FIRAISANA_ID` int(11) NOT NULL ,
  PRIMARY KEY (`FARITRA_ID`),
  KEY `FK_FARITRA_FIRAISANA` (`FIRAISANA_ID`)  
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `Faritra`
  ADD CONSTRAINT `FK_FARITRA_FIRAISANA` FOREIGN KEY (`FIRAISANA_ID`) REFERENCES `Firaisana` (`FIRAISANA_ID`);

INSERT INTO `Faritra` (`FARITRA_ID`, `FARITRA_LABEL`, `FIRAISANA_ID`) VALUES
(1, 'Faritra I', 1),
(2, 'Faritra II', 1),
(3, 'Faritra III', 1),
(4, 'Faritra I', 2),
(5, 'Faritra II', 2),
(6, 'Faritra I', 3),
(7, 'Faritra II', 3),
(8, 'Faritra I', 4),
(9, 'Faritra I', 5),
(10, 'Faritra II', 5),
(11, 'Faritra III', 5);

-- Mpivavaka
CREATE TABLE IF NOT EXISTS `mpivavaka` (
  `MPIVAVAKA_ID` int(11) NOT NULL AUTO_INCREMENT,
  `FITANDREMANA_ID` int(11) DEFAULT NULL,
  `FITANDREMANA_NIAVIANA_ID` int(11) DEFAULT NULL,
  `MPIVAVAKA_LAHARANA` varchar(20) DEFAULT NULL,
  `MPIVAVAKA_ANARANA` varchar(100) NOT NULL,
  `MPIVAVAKA_FANAMPINY` varchar(100) DEFAULT NULL,
  `MPIVAVAKA_DATERAKA` date DEFAULT NULL,
  `MPIVAVAKA_TOETERAKA` varchar(200) DEFAULT NULL,
  `MPIVAVAKA_LAHY` tinyint(1) NOT NULL DEFAULT '1',
  `MPIVAVAKA_CIN` varchar(12),
  `MPIVAVAKA_DATYCIN` date,
  `MPIVAVAKA_TAO_CIN` int(11) comment 'Firaisana nanaovana ny CIN',
  `MPIVAVAKA_DATY_SOLO_CIN` date comment 'daty nanovàna CIN',
  `MPIVAVAKA_TAO_SOLO_CIN` int(11) comment 'Firaisana nanovàna ny CIN',
  
  `MPIVAVAKA_SAMIHAFA` varchar(300) DEFAULT NULL comment 'samihafa',
  
  `MPIVAVAKA_RAY` varchar(200) DEFAULT NULL comment 'anaran ray',
  `MPIVAVAKA_RENY` varchar(200) DEFAULT NULL comment 'anarana reny',
--  `MPIVAVAKA_VADY` varchar(200) DEFAULT NULL comment 'anarana vady',	-- Transféré dans Fanambadiana

  `MPIVAVAKA_RAY_ID` int(11) DEFAULT NULL comment 'lien ray raha mpivavaka recensé',
  `MPIVAVAKA_RENY_ID` int(11) DEFAULT NULL comment 'lien reny raha mpivavaka recensé',
  `MPIVAVAKA_VADY_ID` int(11) DEFAULT NULL comment 'lien vady raha mpivavaka recensé',

  `MPIVAVAKA_MAILAKA` varchar(150) DEFAULT NULL COMMENT 'adresse email',
  `MPIVAVAKA_TEL` varchar(20) DEFAULT NULL COMMENT 'adresse email',
  `MPIVAVAKA_ADRESSE` varchar(100) DEFAULT NULL,
  `FIRAISANA_ID` int(11) COMMENT 'firaisam-pokontany',
  `FARITRA_ID` int(11) COMMENT 'faritra',

  `MPIVAVAKA_ASA` int(11) DEFAULT NULL,
  `MPIVAVAKA_TALENTA` varchar(200) DEFAULT NULL,

  `MPIVAVAKA_DATECREATION` date NOT NULL COMMENT 'date de création',
  `MPIVAVAKA_USERCREATOR` int(11) NOT NULL COMMENT 'utilisateur ayant créé',

  `MPIVAVAKA_DATEMODIF` date DEFAULT NULL COMMENT 'date de dernière modif',
  `MPIVAVAKA_USERMODIF` int(11) DEFAULT NULL COMMENT 'utilisateur ayant modifié',

  PRIMARY KEY (`MPIVAVAKA_ID`),
  KEY `FK_MPIVAVAKA_FITANDREMANA` (`FITANDREMANA_ID`),
  KEY `FK_MPIVAVAKA_FITANDREMANA_NIAVIANA` (`FITANDREMANA_NIAVIANA_ID`),
  KEY `FK_MPIVAVAKA_RAY` (`MPIVAVAKA_RAY_ID`),
  KEY `FK_MPIVAVAKA_RENY` (`MPIVAVAKA_RENY_ID`),
  KEY `FK_MPIVAVAKA_VADY` (`MPIVAVAKA_VADY_ID`),
  KEY `FK_MPIVAVAKA_USER_CREATOR` (`MPIVAVAKA_USERCREATOR`),
  KEY `FK_MPIVAVAKA_USER_MODIF` (`MPIVAVAKA_USERMODIF`),
  KEY `FK_MPIVAVAKA_FIRAISANA` (`FIRAISANA_ID`),
  KEY `FK_MPIVAVAKA_CIN_TAO_FIRAISANA` (`MPIVAVAKA_TAO_CIN`),
  KEY `FK_MPIVAVAKA_CIN_TAO_SOLO_FIRAISANA` (`MPIVAVAKA_TAO_SOLO_CIN`),
  KEY `FK_MPIVAVAKA_FARITRA` (`FARITRA_ID`),
  KEY `FK_MPIVAVAKA_ANTONASA` (`MPIVAVAKA_ASA`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_FITANDREMANA` FOREIGN KEY (`FITANDREMANA_ID`) REFERENCES `fitandremana` (`FITANDREMANA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_FITANDREMANA_NIAVIANA` FOREIGN KEY (`FITANDREMANA_NIAVIANA_ID`) REFERENCES `fitandremana` (`FITANDREMANA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_RAY` FOREIGN KEY (`MPIVAVAKA_RAY_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_RENY` FOREIGN KEY (`MPIVAVAKA_RENY_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_VADY` FOREIGN KEY (`MPIVAVAKA_VADY_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_USER_CREATOR` FOREIGN KEY (`MPIVAVAKA_USERCREATOR`) REFERENCES `Users` (`ID_USER`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_USER_MODIF` FOREIGN KEY (`MPIVAVAKA_USERMODIF`) REFERENCES `Users` (`ID_USER`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_FIRAISANA` FOREIGN KEY (`FIRAISANA_ID`) REFERENCES `Firaisana` (`FIRAISANA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_FARITRA` FOREIGN KEY (`FARITRA_ID`) REFERENCES `Faritra` (`FARITRA_ID`);

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_CIN_TAO_FIRAISANA` FOREIGN KEY (`MPIVAVAKA_TAO_CIN`) REFERENCES `Firaisana` (`FIRAISANA_ID`);
 
ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_CIN_TAO_SOLO_FIRAISANA` FOREIGN KEY (`MPIVAVAKA_TAO_SOLO_CIN`) REFERENCES `Firaisana` (`FIRAISANA_ID`);

-- TRANGA
CREATE TABLE IF NOT EXISTS `tranga` (
  `TRANGA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `TRANGA_DATY` DATE NOT NULL ,
  `TRANGA_LAHARANA` varchar(50) DEFAULT NULL,
  `KARAZATRANGA_ID` int(11) NOT NULL,
  `MPIVAVAKA_ID` int(11) NOT NULL,
  `FITANDREMANA_ID` int(11) NOT NULL,
  `DATECREATION` DATE NOT NULL ,
  `USERCREATOR` int(11) NOT NULL ,
  `DATEMODIF` DATE ,
  `USERMODIF` int(11) ,
  PRIMARY KEY (`TRANGA_ID`),
  KEY `FK_TRANGA_KARAZANY` (`KARAZATRANGA_ID`),
  KEY `FK_TRANGA_MPIVAVAKA` (`MPIVAVAKA_ID`),
  KEY `FK_TRANGA_USERCREATOR` (`USERCREATOR`),
  KEY `FK_TRANGA_USERMODIF` (`USERMODIF`),
  KEY `FK_TRANGA_FITANDREMANA` (`FITANDREMANA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `tranga`
  ADD CONSTRAINT `FK_TRANGA_USERCREATOR` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `tranga`
  ADD CONSTRAINT `FK_TRANGA_USERMODIF` FOREIGN KEY (`USERMODIF`) REFERENCES `users` (`ID_USER`);
 
ALTER TABLE `tranga`
  ADD CONSTRAINT `FK_TRANGA_FITANDREMANA` FOREIGN KEY (`FITANDREMANA_ID`) REFERENCES `Fitandremana` (`FITANDREMANA_ID`);

ALTER TABLE `tranga`
  ADD CONSTRAINT `FK_TRANGA_MPIVAVAKA` FOREIGN KEY (`MPIVAVAKA_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

-- KARAZATRANGA
CREATE TABLE IF NOT EXISTS `karazatranga` (
  `KARAZATRANGA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `KARAZATRANGA_ANARANA` varchar(50) NOT NULL,
  PRIMARY KEY (`KARAZATRANGA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=5 ;
 
ALTER TABLE `tranga`
  ADD CONSTRAINT `FK_TRANGA_KARAZANY` FOREIGN KEY (`KARAZATRANGA_ID`) REFERENCES `karazatranga` (`KARAZATRANGA_ID`);

INSERT INTO `karazatranga` (`KARAZATRANGA_ID`, `KARAZATRANGA_ANARANA`) VALUES
(1, 'Batisa'),
(2, 'Mpandray Fanasan''ny Tompo'),
(3, 'Fahafatesana');
 
CREATE TABLE IF NOT EXISTS `fanambadiana` (
  `FANAMBADIANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `FANAMBADIANA_DATY` DEFAULT NULL ,
  `FANAMBADIANA_LAHARANA` varchar(50) DEFAULT NULL,
  `MPIVAVAKA_ID` int(11) NOT NULL,
  `FITANDREMANA_ID` int(11) NOT NULL,

  `VADY_ID` int(11) DEFAULT NULL,
  `ANARANA_VADY` varchar(200) DEFAULT NULL comment 'anarana vady utilisé uniquement si le Vady n est pas encore renseigné',
  `DATY_SORATRA` DATE DEFAULT NULL ,

  `ZANAKA_LAHY_ISA` int(11) DEFAULT 0 ,
  `ZANAKA_VAVY_ISA` int(11) DEFAULT 0 ,
  `ZANAKA_VITA_BATISA` int(11) ,
  `ZANAKA_MPANDRAY` int(11) ,
  
  `DATECREATION` DATE NOT NULL ,
  `USERCREATOR` int(11) NOT NULL ,
  `DATEMODIF` DATE ,
  `USERMODIF` int(11) ,
  PRIMARY KEY (`FANAMBADIANA_ID`),
  KEY `FK_FANAMBADIANA_VADY` (`VADY_ID`),
  KEY `FK_FANAMBADIANA_MPIVAVAKA` (`MPIVAVAKA_ID`),
  KEY `FK_FANAMBADIANA_USERCREATOR` (`USERCREATOR`),
  KEY `FK_FANAMBADIANA_USERMODIF` (`USERMODIF`),
  KEY `FK_FANAMBADIANA_FITANDREMANA` (`FITANDREMANA_ID`)  
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
 
ALTER TABLE `fanambadiana`
  ADD CONSTRAINT `FK_FANAMBADIANA_VADY` FOREIGN KEY (`VADY_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `fanambadiana`
  ADD CONSTRAINT `FK_FANAMBADIANA_USERCREATOR` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `fanambadiana`
  ADD CONSTRAINT `FK_FANAMBADIANA_USERMODIF` FOREIGN KEY (`USERMODIF`) REFERENCES `users` (`ID_USER`);
 
ALTER TABLE `fanambadiana`
  ADD CONSTRAINT `FK_FANAMBADIANA_FITANDREMANA` FOREIGN KEY (`FITANDREMANA_ID`) REFERENCES `Fitandremana` (`FITANDREMANA_ID`);
 
ALTER TABLE `fanambadiana`
  ADD CONSTRAINT `FK_FANAMBADIANA_MPIVAVAKA` FOREIGN KEY (`MPIVAVAKA_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);
 
CREATE TABLE IF NOT EXISTS `manambady` (
  `MPIVAVAKA_ID` int(11) NOT NULL,
  `FANAMBADIANA_ID` int(11) NOT NULL,
  PRIMARY KEY (`MPIVAVAKA_ID`,`FANAMBADIANA_ID`),
  KEY `FK_MANAMBADY_FANAMBADIANA` (`FANAMBADIANA_ID`),
  KEY `FK_MANAMBADY_MPIVAVAKA` (`MPIVAVAKA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `manambady`
  ADD CONSTRAINT `FK_MANAMBADY_FANAMBADIANA` FOREIGN KEY (`FANAMBADIANA_ID`) REFERENCES `fanambadiana` (`FANAMBADIANA_ID`);

ALTER TABLE `manambady`
  ADD CONSTRAINT `FK_MANAMBADY_MPIVAVAKA` FOREIGN KEY (`MPIVAVAKA_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

-- Anton'Asa
CREATE TABLE IF NOT EXISTS `antonasa` (
  `ANTONASA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `ANTONASA_INTITULE` varchar(50) NOT NULL,
  `ANTONASA_DESCR` varchar(200) ,
  PRIMARY KEY (`ANTONASA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=37 ;

ALTER TABLE `mpivavaka`
  ADD CONSTRAINT `FK_MPIVAVAKA_ANTONASA` FOREIGN KEY (`MPIVAVAKA_ASA`) REFERENCES `antonasa` (`ANTONASA_ID`);

INSERT INTO `antonasa` (`ANTONASA_ID`, `ANTONASA_INTITULE`, `ANTONASA_DESCR`) VALUES
(1, 'Mpitandrina', 'Mpitandrina ny ondrin''Andriamanitra'),
(2, 'Mpitsabo', 'Mpitsabo marary'),
(3, 'Mpampianatra', 'Mpampianatra any an-tsekoly'),
(4, 'Mpiakarakara tokan-trano', 'Miasa ao an-tokan-trano'),
(5, 'Comptable', 'Mpanao comptabilité'),
(6, 'Infirmier(e)', 'Mpanampy mpitsabo'),
(7, 'Secretaire', 'Sekretera any amin''ny birao'),
(8, 'Mpandraharaha', 'Manao ny asa fandraharana'),
(9, 'Mpitantana orin''asa', ''),
(10, 'Inspecteur des impôts', 'Miasa misahana ny hetra'),
(11, 'Inspecteur de police', ''),
(12, 'Ingénieur batiment', 'Ingeniera misahana ny asa tao-trano'),
(13, 'Architecte', 'Architecte'),
(14, 'Maçon', 'Mpanao trano'),
(15, 'Plombier', 'Mpanao ny asa momba ny rano'),
(16, 'Electricien', 'Mpanao ny asa momba ny herin''aratra'),
(17, 'Ministra', 'Minisitra ao amin''ny governemanta'),
(18, 'Chauffeur', 'Mpamily fiara (Taxi, Taxi-brousse, Taxi-be)'),
(19, 'Receveur', 'Mpanampy ny mpamily'),
(20, 'Inspecteur des Douanes', ''),
(21, 'Mpanao tao-zavatra','asa tanana'),
(22, 'Mpianatra eny amin''ny EPP', 'Mpianatra eny amin''ny EPP'),
(23, 'Mpianatra eny amin''ny CEG', 'Mpianatra eny amin''ny CEG'),
(24, 'Mpianatra amin''ny oniversite', 'Mpianatra eny amin''ny Oniversite'),
(25, 'Mpivaro-kena', 'mpivaro-kena'),
(26, 'Mpivarotra enta-madinika', 'Mpivarotra amin''ny épicerie'),
(27, 'Ingénieur télécommunication', 'Ingénieur télécommunication'),
(28, 'Ingénieur informaticien', 'Ingénieur informaticien'),
(29, 'Hôtesse', 'Hôtesse'),
(30, 'Steward', 'Steward'), 
(31, 'Pilote', 'Pilote'), 
(32, 'Mécanicien', 'Mécanicien'), 
(33, 'Dentiste', 'Mpitsabo nify'),
(34, 'Standardiste', 'Standardiste'),
(35, 'Guide touristique', 'Guide touristique'),
(36, 'Vendeuse', 'Vendeude');

CREATE TABLE IF NOT EXISTS `taompanompoana` (
  `TAONA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `TAONA_DATYMANOMBOKA` DATE NOT NULL,
  `TAONA_DATYMAMARANA` DATE NOT NULL ,
  PRIMARY KEY (`TAONA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=6 ;

INSERT INTO `taompanompoana` (`TAONA_ID`, `TAONA_DATYMANOMBOKA`, `TAONA_DATYMAMARANA`) VALUES
(1, '1995-01-01', '1998-12-31'),
(2, '1999-01-01', '2003-12-31'),
(3, '2004-01-01', '2007-12-31'),
(4, '2008-01-01', '2011-12-31'),
(5, '2012-01-01', '2015-12-31');

-- Diakona
CREATE TABLE IF NOT EXISTS `Diakona` (
  `DIAKONA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `TAOMPANOMPOANA_ID` int(11) NOT NULL ,
  `MPIVAVAKA_ID` int(11) NOT NULL,
  `FITANDREMANA_ID` int(11) ,
  `DIAKONA_SAMIHAFA` varchar(400) ,
  `DIAKONA_NISARABADY` tinyint(1) NOT NULL DEFAULT '0',
  
  `DIAKONA_ZANAKA_LAHY` tinyint(2) NOT NULL DEFAULT '0',
  `DIAKONA_ZABAKA_VAVY` tinyint(2) NOT NULL DEFAULT '0',
  `DIAKONA_ZANAKA_BATISA` tinyint(2) NOT NULL DEFAULT '0',
  `DIAKONA_ZANAKA_MPANDRAY` tinyint(2) NOT NULL DEFAULT '0',
  
  `DATECREATION` DATE NOT NULL ,
  `USERCREATOR` int(11) NOT NULL ,
  `DATEMODIF` DATE ,
  `USERMODIF` int(11) ,
  PRIMARY KEY (`DIAKONA_ID`),
  KEY `FK_DIAKONA_TAONAMPANOMPOANA` (`TAOMPANOMPOANA_ID`),
  KEY `FK_DIAKONA_MPIVAVAKA` (`MPIVAVAKA_ID`),
  KEY `FK_DIAKONA_USERCREATOR` (`USERCREATOR`),
  KEY `FK_DIAKONA_USERMODIF` (`USERMODIF`),
  KEY `FK_DIAKONA_FITANDREMANA` (`FITANDREMANA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `diakona`
  ADD CONSTRAINT `FK_DIAKONA_TAONAMPANOMPOANA` FOREIGN KEY (`TAOMPANOMPOANA_ID`) REFERENCES `taompanompoana` (`TAONA_ID`);

ALTER TABLE `diakona`
  ADD CONSTRAINT `FK_DIAKONA_MPIVAVAKA` FOREIGN KEY (`MPIVAVAKA_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `diakona`
  ADD CONSTRAINT `FK_DIAKONA_FITANDREMANA` FOREIGN KEY (`FITANDREMANA_ID`) REFERENCES `fitandremana` (`FITANDREMANA_ID`);

ALTER TABLE `diakona`
  ADD CONSTRAINT `FK_DIAKONA_USERCREATOR` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `diakona`
  ADD CONSTRAINT `FK_DIAKONA_USERMODIF` FOREIGN KEY (`USERMODIF`) REFERENCES `users` (`ID_USER`);
  
-- Andraikitra
CREATE TABLE IF NOT EXISTS `Andraikitra` (
  `ANDRAIKITRA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `ANDRAIKITRA_INTITULE` varchar(50) NOT NULL,
  `ANDRAIKITRA_DESCR` varchar(200) ,
  PRIMARY KEY (`ANDRAIKITRA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10;

INSERT INTO `Andraikitra` (`ANDRAIKITRA_ID`, `ANDRAIKITRA_INTITULE`, `ANDRAIKITRA_DESCR`) VALUES
(1, 'Filoha', 'Filohan''ny sampana'),
(2, 'Filoha mpanampy', 'Filoha mpanampy ny sampana'),
(3, 'Mpanolo-tsaina', 'Mpanolon-tsaina ao amin''ny sampana'),
(4, 'Mpitan-tsoratra', 'mpitan-tsoratry ny sampana'),
(5, 'Mpitam-bola', 'Mpitam-bolan''ny sampana'),
(6, 'Mpitan-tsoratry ny vola', 'mpitan-tsoratry ny vola ny sampana'),
(7, 'Mpikambana', 'mpikambana ao amin''ny sampana'),
(8, 'Teknisiana', 'misahana ny lafiny ara-teknika ao amin''ny sampana'),
(9, 'Tonia ny fanoratana', 'Fanoratana lahatsoratra amin''ny gazety fafana'),
(10, 'Mpanoratra', 'Mpanoratra lahatsoratra');

-- Sampan'asa
CREATE TABLE IF NOT EXISTS `SampanAsa` (
  `SAMPANASA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `SAMPANASA_INTITULE` varchar(50) NOT NULL,
  `SAMPANASA_DESCR` varchar(200) ,
  PRIMARY KEY (`SAMPANASA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=12;

INSERT INTO `SampanAsa` (`SAMPANASA_ID`, `SAMPANASA_INTITULE`, `SAMPANASA_DESCR`) VALUES
(1, 'Sampana Tanora Kristiana', 'STK'),
(2, 'Sampana Lehilahy Kristiana', 'SLK'),
(3, 'Dorkasy', 'Fikambanan''ny vehivavy'),
(4, 'Komity Site web', 'Asa fikirakirana ny vaovao @ alalan''ny site web'),
(5, 'Gazety Fafana', 'Asa mikirakira ny vaovao @ alalan''ny gazety fafana'),
(6, 'Asa Fitoriana ny Filazantsara', 'AFF'),
(7, 'Mpihiran''ny Farimbona', 'Mpihiran''ny Farimbona'),
(8, 'Vondrona Fototra Laika', 'VFL'),
(9, 'Sakaizan''ny Baiboly', 'Sakaizan''ny Baiboly'), 
(10, 'Vokovoko manga', 'Vokovoko manga'),
(11, 'Sampana Mpanazava sy Tily', 'Sampati'); 

-- Mpikambana
CREATE TABLE IF NOT EXISTS `Mpikambana` (
  `MPIKAMBANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `TAOMPANOMPOANA_ID` int(11) NOT NULL ,
  `MPIVAVAKA_ID` int(11) NOT NULL,
  `FITANDREMANA_ID` int(11) NOT NULL,
  `SAMPANASA_ID` int(11) NOT NULL,
  `ANDRAIKITRA_ID` int(11) NOT NULL,
  `DATECREATION` DATE NOT NULL ,
  `USERCREATOR` int(11) NOT NULL ,
  `DATEMODIF` DATE ,
  `USERMODIF` int(11) ,
  PRIMARY KEY (`MPIKAMBANA_ID`),
  KEY `FK_MPIKAMBANA_TAONAMPANOMPOANA` (`TAOMPANOMPOANA_ID`),
  KEY `FK_MPIKAMBANA_MPIVAVAKA` (`MPIVAVAKA_ID`),
  KEY `FK_MPIKAMBANA_FITANDREMANA` (`FITANDREMANA_ID`),
  KEY `FK_MPIKAMBANA_SAMPANASA` (`SAMPANASA_ID`),
  KEY `FK_MPIKAMBANA_ANDRAIKITRA` (`ANDRAIKITRA_ID`),
  KEY `FK_MPIKAMBANA_USERCREATOR` (`USERCREATOR`),
  KEY `FK_MPIKAMBANA_USERMODIF` (`USERMODIF`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_TAONAMPANOMPOANA` FOREIGN KEY (`TAOMPANOMPOANA_ID`) REFERENCES `taompanompoana` (`TAONA_ID`);

ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_MPIVAVAKA` FOREIGN KEY (`MPIVAVAKA_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_FITANDREMANA` FOREIGN KEY (`SAMPANASA_ID`) REFERENCES `fitandremana` (`FITANDREMANA_ID`);

ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_SAMPANASA` FOREIGN KEY (`TAOMPANOMPOANA_ID`) REFERENCES `sampanasa` (`SAMPANASA_ID`);

ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_ANDRAIKITRA` FOREIGN KEY (`ANDRAIKITRA_ID`) REFERENCES `andraikitra` (`ANDRAIKITRA_ID`);
  
ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_USERCREATOR` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `Mpikambana`
  ADD CONSTRAINT `FK_MPIKAMBANA_USERMODIF` FOREIGN KEY (`USERMODIF`) REFERENCES `users` (`ID_USER`);
  
-- Momba ny fifidianana
-- KARAZATRANGA
CREATE TABLE IF NOT EXISTS `karazampifidianana` (
  `KARAZAMPIFIDIANANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `KARAZAMPIFIDIANANA_ANARANA` varchar(50) NOT NULL,
  PRIMARY KEY (`KARAZAMPIFIDIANANA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

INSERT INTO `karazampifidianana` (`KARAZAMPIFIDIANANA_ID`, `KARAZAMPIFIDIANANA_ANARANA`) VALUES
(1, 'Fifidianana Diakona'),
(2, 'Fifidianana Filoha Sampana');

-- FIFIDIANANA
CREATE TABLE IF NOT EXISTS `fifidianana` (
  `FIFIDIANANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `KARAZAMPIFIDIANANA_ID` int(11) NOT NULL ,
  `TAONA_ID` int(11) NOT NULL,
  `FITANDREMANA_ID` int(11) NOT NULL,
  `FIFIDIANANA_LABEL` varchar(200) NOT NULL,

  `DATY_MANOMBOKA_FIROTSAHANA` DATE NOT NULL ,
  `DATY_MAMARANA_FIROTSAHANA` DATE NOT NULL ,
  `DATY_MANAKATONA` DATE DEFAULT NULL ,
  `DATY_FIFIDIANANA` DATE NOT NULL ,
  `DATY_FANISAMBATO` DATE DEFAULT NULL ,
  `FIFIDIANANA_OLONA_TOKANA` tinyint(1) NOT NULL DEFAULT '0',
  `FIFIDIANANA_ISA_OLONA_FIDIANA` int(11) DEFAULT NULL,
  `FIFIDIANANA_MITOHY_LAHARANA` tinyint(1) DEFAULT NULL ,
    
  `DATECREATION` DATE NOT NULL ,
  `USERCREATOR` int(11) NOT NULL ,
  `DATEMODIF` DATE ,
  `USERMODIF` int(11) ,
  PRIMARY KEY (`FIFIDIANANA_ID`),
  KEY `FK_FIFIDIANANA_KARAZANY` (`KARAZAMPIFIDIANANA_ID`),
  KEY `FK_FIFIDIANANA_TAOMPANOMPOANA` (`TAONA_ID`),
  KEY `FK_FIFIDIANANA_FITANDREMANA` (`FITANDREMANA_ID`),
  KEY `FK_FIFIDIANANA_USERCREATOR` (`USERCREATOR`),
  KEY `FK_FIFIDIANANA_USERMODIF` (`USERMODIF`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `fifidianana`
  ADD CONSTRAINT `FK_FIFIDIANANA_USERCREATOR` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `fifidianana`
  ADD CONSTRAINT `FK_FIFIDIANANA_USERMODIF` FOREIGN KEY (`USERMODIF`) REFERENCES `users` (`ID_USER`);
 
ALTER TABLE `fifidianana`
  ADD CONSTRAINT `FK_FIFIDIANANA_FITANDREMANA` FOREIGN KEY (`FITANDREMANA_ID`) REFERENCES `Fitandremana` (`FITANDREMANA_ID`);

ALTER TABLE `fifidianana`
  ADD CONSTRAINT `FK_FIFIDIANANA_KARAZANY` FOREIGN KEY (`KARAZAMPIFIDIANANA_ID`) REFERENCES `karazampifidianana` (`KARAZAMPIFIDIANANA_ID`);

ALTER TABLE `fifidianana`
  ADD CONSTRAINT `FK_FIFIDIANANA_TAOMPANOMPOANA` FOREIGN KEY (`TAONA_ID`) REFERENCES `taompanompoana` (`TAONA_ID`);
  
insert into fifidianana values
(1, 1, 5, 1, 'Fifidianana Diakona ', '2011-03-12', '2012-06-05', null, null, null,'2011-04-08', 3, null, null); 

CREATE TABLE IF NOT EXISTS `MpifidyNandrotsaBato` (
  `MPIFIDY_NANDROTSABATO_ID` int(11) NOT NULL AUTO_INCREMENT,
  `FIFIDIANANA_ID` int(11) NOT NULL ,  
  `MPIVAVAKA_ID` int(11) NOT NULL,
  PRIMARY KEY (`MPIFIDY_NANDROTSABATO_ID`),
  UNIQUE KEY `FIFIDIANANA_MPIVAVAKA` (`FIFIDIANANA_ID`, `MPIVAVAKA_ID`),
  -- KEY `FK_MPIVAVAKA_ID` (`MPIVAVAKA_ID`),
  KEY `FK_FIFIDIANANA_ID` (`FIFIDIANANA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `MpifidyNandrotsaBato`
  ADD CONSTRAINT `FK_MPIFIDY_NADROTSABATO_FIFIDIANANA` FOREIGN KEY (`FIFIDIANANA_ID`) REFERENCES `fifidianana` (`FIFIDIANANA_ID`);

-- MIROTSAKAFIDIANA
CREATE TABLE IF NOT EXISTS `mirotsakafidiana` (
  `MIROTSAKAFIDIANA_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `MPIVAVAKA_ID` int(11) NOT NULL ,
  `FIFIDIANANA_ID` int(11) NOT NULL,

  `DATY_NIROTSAHANA` DATE NOT NULL ,
  `MIROTSAKAFIDIANA_EKENA` tinyint(1) DEFAULT NULL ,
  `MIROTSAKAFIDIANA_ISAMBATO` int(11) DEFAULT 0 ,
  `MIROTSAKAFIDIANA_LAHARANA` int(11) DEFAULT NULL  ,
  `MIROTSAKAFIDIANA_FANAMARIHANA` varchar(400) DEFAULT NULL  ,
  
  `DATECREATION` DATE NOT NULL ,
  `USERCREATOR` int(11) NOT NULL ,
  `DATEMODIF` DATE ,
  `USERMODIF` int(11) ,
  PRIMARY KEY (`MIROTSAKAFIDIANA_ID`),
  KEY `FK_MIROTSAKAFIDIANA_MPIVAVAKA` (`MPIVAVAKA_ID`),
  KEY `FK_MIROTSAKAFIDIANA_FIFIDIANANA` (`FIFIDIANANA_ID`),
  KEY `FK_MIROTSAKAFIDIANA_USERCREATOR` (`USERCREATOR`),
  KEY `FK_MIROTSAKAFIDIANA_USERMODIF` (`USERMODIF`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

ALTER TABLE `mirotsakafidiana`
  ADD CONSTRAINT `FK_MIROTSAKAFIDIANA_MPIVAVAKA` FOREIGN KEY (`MPIVAVAKA_ID`) REFERENCES `mpivavaka` (`MPIVAVAKA_ID`);

ALTER TABLE `mirotsakafidiana`
  ADD CONSTRAINT `FK_MIROTSAKAFIDIANA_FIFIDIANANA` FOREIGN KEY (`FIFIDIANANA_ID`) REFERENCES `fifidianana` (`FIFIDIANANA_ID`);

ALTER TABLE `mirotsakafidiana`
  ADD CONSTRAINT `FK_MIROTSAKAFIDIANA_USERCREATOR` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

ALTER TABLE `mirotsakafidiana`
  ADD CONSTRAINT `FK_MIROTSAKAFIDIANA_USERMODIF` FOREIGN KEY (`USERCREATOR`) REFERENCES `users` (`ID_USER`);

-- FANISAMBATO  
CREATE TABLE IF NOT EXISTS `FanisamBato` (
  `FANISAMBATO_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `FIFIDIANANA_ID` int(11) NOT NULL,
  `FANISAMBATO_VATOFOTSY` int(11) DEFAULT 0 ,
  `FANISAMBATO_VATOMATY` int(11) DEFAULT 0 ,
  `FANISAMBATO_VATO_VOAISA` int(11) DEFAULT 0 ,
  `FANISAMBATO_LEHILAHY` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`FANISAMBATO_ID`),
  KEY `FK_FANISAMBATO_FIFIDIANANA` (`FIFIDIANANA_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
  
ALTER TABLE `FanisamBato`
  ADD CONSTRAINT `FK_FANISAMBATO_FIFIDIANANA` FOREIGN KEY (`FIFIDIANANA_ID`) REFERENCES `fifidianana` (`FIFIDIANANA_ID`);
  
  
-- PARAMETER  
CREATE TABLE IF NOT EXISTS `Parameter` (
  `PARAMETER_ID` int(11) NOT NULL AUTO_INCREMENT,  
  `ID_USER` int(11) NOT NULL,
  `PARAMETER_NBELEMENT_PERPAGE` int(6) DEFAULT 5 COMMENT 'nombre élément par page résultant d une recherche' ,
  `PARAMETER_NBMIROTSAKAFIDIANA` int(6) DEFAULT 8 COMMENT 'nombre mirotsaka fidiana par page dans les différentes listes dans Fifidianana',
  `PARAMETER_NBTEMP_RESULT_VOTE` int(6) DEFAULT 10 COMMENT 'nombre de résultat temportaire et partiel affiché à gauche et à droite du formulaire de saisi de bulletin de vote',
  PRIMARY KEY (`PARAMETER_ID`),
  KEY `FK_PARAMETER_USER` (`ID_USER`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
  
ALTER TABLE `Parameter`
  ADD CONSTRAINT `FK_PARAMETER_USER` FOREIGN KEY (`ID_USER`) REFERENCES `users` (`ID_USER`);
  